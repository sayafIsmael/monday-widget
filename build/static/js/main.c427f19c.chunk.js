(this["webpackJsonpmonday-integration-quickstart-app"]=this["webpackJsonpmonday-integration-quickstart-app"]||[]).push([[0],{103:function(e,t,a){e.exports=a(196)},108:function(e,t,a){},109:function(e,t,a){},196:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(11),i=a.n(s),o=(a(108),a(79)),u=a(80),c=a(102),r=a(98),d=(a(109),a(81)),h=a.n(d),m=(a(124),a(125),a(199)),g=a(25),p=a.n(g),f=(m.a.Title,h()()),S=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={context:{},settings:{},name:"",boardData:{},filteredStatusCount:0,allItemsCount:0,liveschangesCount:0,callBack:[],pipeline:[],smileStyledScheduled:[],sameDayLifeChanged:[],cancelled:[],numberOfitems:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.listen("settings",(function(t){e.setState({settings:t.data})})),f.listen("context",(function(t){e.setState({context:t.data}),console.log(t.data),f.api("{\n        boards(ids: 1676895469) {\n          items{\n            name\n            column_values {\n              id\n              text\n            }\n          }\n        }\n      }",{variables:{boardIds:e.state.context.boardIds}}).then((function(t){var a=[],n=[];console.log("res.data: ",t.data.boards[0].items),t.data.boards[0].items.map((function(e){return a.push(e.column_values)})),a.map((function(e,t){e.map((function(e){"date4"==e.id&&e.text&&p()().format("M")==p()(e.text).format("M")&&n.push(e.id)}))})),e.setState({allItemsCount:n.length}),console.log("allData.length: ",n.length)})),f.api('{\n        items_by_multiple_column_values(board_id: 1676895469, column_id: "status_8",\n        column_values: ["Same Day Life Changed", "Call Back", "Pipeline", "Cancelled", "Smile Style Scheduled"]) {\n          name\n          column_values {\n            id\n            text\n          }\n        }\n      }\n      ',{variables:{boardIds:e.state.context.boardIds}}).then((function(t){var a=[],n=[];t.data.items_by_multiple_column_values.map((function(e){return a.push(e.column_values)}));var l=[],s=[],i=[],o=[],u=[],c=[];a.map((function(e,t){e.map((function(e){"date9"==e.id&&e.text&&p()().format("M")==p()(e.text).format("M")&&a[t].map((function(e){"status_8"==e.id&&"Pipeline"==e.text&&(console.log("Pipeline value: ",e.id),s.push(e.id))})),"date4"==e.id&&e.text&&p()().format("M")==p()(e.text).format("M")&&(c.push(e.text),a[t].map((function(e){"status_16"==e.id&&"Huntington Beach"==e.text&&a[t].map((function(e){"status_8"==e.id&&"Call Back"==e.text&&(console.log("callBack: ",e.id),l.push(e.id)),"status_8"==e.id&&"Smile Style Scheduled"==e.text&&i.push(e.id),"status_8"==e.id&&"Same Day Life Changed"==e.text&&o.push(e.id),"status_8"==e.id&&"Cancelled"==e.text&&u.push(e.id)}))})))}))})),e.setState({callBack:l,pipeline:s,smileStyledScheduled:i,sameDayLifeChanged:o,cancelled:u,numberOfitems:c});var r=n.reduce((function(e,t){return Number(e)+Number(t)}),0);console.log("TCR: ",n),e.setState({liveschangesCount:r}),console.log({liveschangesCount:r})}))}))}},{key:"getCallbackValue",value:function(){var e=parseFloat(this.state.callBack.length)/parseFloat(this.state.allItemsCount),t=.04*parseFloat(e);return(parseFloat(e)+parseFloat(t))*parseFloat(this.state.callBack.length)}},{key:"getPipelineValue",value:function(){return parseFloat(this.state.pipeline.length)/parseFloat(this.state.allItemsCount)*parseFloat(this.state.pipeline.length)}},{key:"getSmileStyledScheduledValue",value:function(){return parseFloat(this.state.smileStyledScheduled.length)/parseFloat(this.state.allItemsCount)*parseFloat(this.state.smileStyledScheduled.length)}},{key:"getSameDayLifeChangedValue",value:function(){return parseFloat(this.state.sameDayLifeChanged.length)/parseFloat(this.state.allItemsCount)*parseFloat(this.state.sameDayLifeChanged.length)}},{key:"getCancelledValue",value:function(){var e=parseFloat(this.state.cancelled.length)/parseFloat(this.state.allItemsCount);console.log("cancelledValue: ",this.state.cancelled.length);var t=.02*parseFloat(e);return(parseFloat(e)+parseFloat(t))*parseFloat(this.state.cancelled.length)}},{key:"getData",value:function(){return console.log("this.getCallbackValue()",this.getCallbackValue()),console.log("this.getPipelineValue()",this.getPipelineValue()),console.log("this.getSmileStyledScheduledValue()",this.getSmileStyledScheduledValue()),console.log("this.getSameDayLifeChangedValue()",this.getSameDayLifeChangedValue()),console.log("this.getCancelledValue()",this.getCancelledValue()),(this.getCallbackValue()-this.getPipelineValue()+this.getSmileStyledScheduledValue()+this.getSameDayLifeChangedValue()-this.getCancelledValue())/this.state.numberOfitems.length}},{key:"render",value:function(){return l.a.createElement("div",{className:"App",style:{background:this.state.settings.background}},l.a.createElement("div",{style:{textAlign:"center",alignSelf:"center",justifyContent:"center"}},l.a.createElement("h2",{style:{fontSize:75}},(100*this.getData()||0).toFixed(1),"%")))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.c427f19c.chunk.js.map